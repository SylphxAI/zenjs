export{a as Fragment,e as render}from'./chunk-LPGI532F.js';import {zen,effect,untrack}from'@sylphx/zen';export{batch,computed,effect,peek,zen as signal,subscribe,untrack}from'@sylphx/zen';function g(a){let{each:i,children:d,fallback:n}=a,e=document.createComment("for"),o=new Map,t=null,l=effect(()=>{let r=typeof i=="function"?i():i;if(r.length===0&&n){for(let[,{node:s,dispose:f}]of o)s.parentNode&&s.parentNode.removeChild(s),f?.();o.clear(),t||(t=e.parentNode),t&&t.insertBefore(n,e);return}if(n&&n.parentNode&&n.parentNode.removeChild(n),t||(t=e.parentNode),!t)return;let c=new Map,u=document.createDocumentFragment();for(let s=0;s<r.length;s++){let f=r[s],p=o.get(f);p?(p.index=s,c.set(f,p)):(p={node:d(f,()=>{let h=c.get(f);return h?h.index:-1}),index:s},c.set(f,p)),u.appendChild(p.node);}for(let[s,{node:f,dispose:p}]of o)c.has(s)||(f.parentNode&&f.parentNode.removeChild(f),p?.());o.clear();for(let[s,f]of c)o.set(s,f);t.insertBefore(u,e);});return e._dispose=()=>{l();for(let[,{node:r,dispose:c}]of o)r.parentNode&&r.parentNode.removeChild(r),c?.();o.clear();},e}function P(a){let{when:i,fallback:d,children:n}=a,e=document.createComment("show"),o=null,t,l=effect(()=>{let r=typeof i=="function"?i():i;o&&o.parentNode&&(o.parentNode.removeChild(o),o=null),t&&(t(),t=void 0),r?o=untrack(()=>typeof n=="function"?n(r):n):d&&(o=untrack(()=>typeof d=="function"?d():d)),o&&e.parentNode&&(e.parentNode.insertBefore(o,e),o._dispose&&(t=o._dispose));});return e._dispose=()=>{l(),o&&o.parentNode&&o.parentNode.removeChild(o),t&&t();},e}function T(a){let i=document.createComment("match");return i._matchProps=a,i}function E(a){let{fallback:i,children:d}=a,n=document.createComment("switch"),e=null,o,t=effect(()=>{e&&e.parentNode&&(e.parentNode.removeChild(e),e=null),o&&(o(),o=void 0);for(let l of d){let r=l._matchProps;if(r){let{when:c,children:u}=r,s=typeof c=="function"?c():c;if(s){e=untrack(()=>typeof u=="function"?u(s):u);break}}}!e&&i&&(e=untrack(()=>typeof i=="function"?i():i)),e&&n.parentNode&&(n.parentNode.insertBefore(e,n),e._dispose&&(o=e._dispose));});return n._dispose=()=>{t(),e&&e.parentNode&&e.parentNode.removeChild(e),o&&o();},n}function R(a){let{mount:i=document.body,children:d}=a,n=document.createComment("portal");return d instanceof Node&&i.appendChild(d),n._dispose=()=>{d instanceof Node&&d.parentNode===i&&i.removeChild(d);},n}function z(a){let{fallback:i,children:d}=a,n=zen(null),e=document.createElement("div"),o=()=>{n.value=null,t();},t=()=>{try{if(e.innerHTML="",n.value){let r=i(n.value,o);e.appendChild(r);}else {let r=typeof d=="function"?d():d;e.appendChild(r);}}catch(r){n.value=r;let c=i(r,o);e.innerHTML="",e.appendChild(c);}};t();let l=r=>{e.contains(r.target)&&(r.preventDefault(),n.value=r.error,t());};return window.addEventListener("error",l),e._dispose=()=>{window.removeEventListener("error",l);},e}var m=zen(typeof window<"u"&&window.location.hash.slice(1)||"/");function x(a){typeof window<"u"&&(window.location.hash=a);}typeof window<"u"&&window.addEventListener("hashchange",()=>{m.value=window.location.hash.slice(1)||"/";});function M(a){let{routes:i,fallback:d}=a,n=document.createComment("router"),e=null,o,t;return queueMicrotask(()=>{t=effect(()=>{let l=m.value,r=i.find(c=>c.path===l)||null;console.log("[Router] Effect fired:",{path:l,route:r?.path,hasParent:!!n.parentNode}),e&&e.parentNode&&(e.parentNode.removeChild(e),e=null),o&&(o(),o=void 0),e=untrack(()=>r?(console.log("[Router] Rendering route:",r.path),r.component()):d?(console.log("[Router] Rendering fallback"),d()):(console.log("[Router] Rendering 404"),document.createTextNode("404 Not Found"))),console.log("[Router] Current node:",e,"Parent:",n.parentNode),e&&n.parentNode?(n.parentNode.insertBefore(e,n),console.log("[Router] Inserted node into DOM"),e._dispose&&(o=e._dispose)):console.log("[Router] Cannot insert - missing node or parent");});}),n._dispose=()=>{t&&t(),e&&e.parentNode&&e.parentNode.removeChild(e),o&&o();},n}function D(a){let{href:i,children:d,...n}=a,e=document.createElement("a");e.href=`#${i}`;for(let[o,t]of Object.entries(n))o==="class"?e.className=String(t):e.setAttribute(o,String(t));return typeof d=="string"?e.textContent=d:d instanceof Node&&e.appendChild(d),e.addEventListener("click",o=>{o.preventDefault(),x(i);}),e}export{z as ErrorBoundary,g as For,D as Link,T as Match,R as Portal,M as Router,P as Show,E as Switch,m as currentRoute,x as navigate};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map